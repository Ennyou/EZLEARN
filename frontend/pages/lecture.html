<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <link rel="icon" href="../imgs/favicon.ico" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../js/lecture.js"></script>

    <title>學習影片 | EZLËARN</title>

    <style>
      html {
        scroll-behavior: smooth;
        scroll-padding-top: 74px;
      }
    </style>
  </head>
  <body>
    <header>
      <div
        class="flex items-center w-full bg-[#1C1D1F] h-[74px] border-b border-gray-600"
      >
        <a class="hidden md:block" href="/index.html">
          <img
            class="w-48 p-4 ml-8"
            src="../imgs/logo-2.png"
            title="回首頁"
            alt="LOGO"
          />
        </a>

        <a
          href="./my-courses.html"
          class="text-white ml-6 md:hidden hover:text-gray-300"
        >
          <i class="bi bi-arrow-left"></i>
        </a>

        <h1
          class="text-white font-bold text-md sm:text-lg mx-auto md:ml-6"
        >
          <span class="course-name">　</span>－<span
            class="lesson-name"
            >　</span
          >
        </h1>
      </div>
    </header>

    <main>
      <div class="lg:flex w-full">
        <div class="lg:w-[calc(100vw-400px)]">
          <!-- video player -->
          <div
            class="video-container relative group bg-black flex justify-center"
          >
            <div
              class="absolute flex items-center justify-between bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent h-[55px] transition-all duration-200 opacity-0 group-hover:opacity-100 z-10"
            >
              <input
                id="progressBar"
                type="range"
                min="0"
                max="100"
                value="0"
                class="absolute bottom-[55px] w-full cursor-pointer h-1"
              />
              <div class="flex items-center space-x-4 pl-4">
                <button
                  class="text-white play-pause text-2xl"
                >
                  <i class="bi bi-play-fill"></i>
                </button>

                <button
                  class="text-white text-2xl skip-backward"
                >
                  <i
                    class="bi bi-arrow-counterclockwise"
                  ></i>
                </button>

                <div class="playback-content relative">
                  <button
                    class="playback-speed bg-white px-4"
                  >
                    1x
                  </button>
                  <ul
                    class="speed-options hidden absolute bottom-8 bg-gray-900 p-2 cursor-pointer font-bold text-white transition-all"
                  >
                    <li
                      class="speed-option hover:bg-gray-400 p-1 font-bold"
                      data-speed="2"
                    >
                      2x
                    </li>
                    <li
                      class="speed-option hover:bg-gray-400 p-1"
                      data-speed="1.5"
                    >
                      1.5x
                    </li>
                    <li
                      class="speed-option hover:bg-gray-400 p-1"
                      data-speed="1"
                    >
                      1x
                    </li>
                    <li
                      class="speed-option hover:bg-gray-400 p-1"
                      data-speed="0.75"
                    >
                      0.75x
                    </li>
                    <li
                      class="speed-option hover:bg-gray-400 p-1"
                      data-speed="0.5"
                    >
                      0.5x
                    </li>
                  </ul>
                </div>

                <button
                  class="text-white text-2xl skip-forward"
                >
                  <i class="bi bi-arrow-clockwise"></i>
                </button>

                <div class="video-timer">
                  <span
                    class="current-time text-white text-sm"
                  >
                    00:00
                  </span>
                  <span class="text-white text-sm">
                    ／
                  </span>
                  <span
                    class="video-duration text-white text-sm"
                  >
                    00:00
                  </span>
                </div>
              </div>

              <div class="flex items-center space-x-4 pr-4">
                <div class="flex items-center relative">
                  <button
                    class="text-white volume text-4xl"
                  >
                    <i class="bi bi-volume-down-fill"></i>
                  </button>

                  <div
                    class="volume-slider opacity-0 absolute bottom-12 left-1/2 transform -translate-x-1/2 bg-transparent p-4 w-12"
                  >
                    <div
                      class="slider-wrapper relative h-24 bg-gray-200"
                    >
                      <div
                        class="slider-thumb bg-indigo-500 absolute w-full h-2 bottom-0"
                        style="height: 50%"
                      ></div>
                    </div>
                  </div>
                </div>

                <button
                  class="full-screen-btn text-white text-2xl"
                >
                  <i class="bi bi-fullscreen"></i>
                </button>
              </div>
            </div>
            <video
              class="w-[960px] h-[540px]"
              id="courseVideo"
              src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm"
            ></video>
          </div>

          <!-- tab -->
          <div class="flex justify-center px-8">
            <div class="z-[1] w-full">
              <!-- nav -->
              <div class="border-b border-gray-400">
                <nav
                  class="-mb-px flex space-x-8 justify-start font-bold"
                  aria-label="Tabs"
                >
                  <!-- Tab buttons -->
                  <a
                    href="#tab-1"
                    class="tab-link whitespace-nowrap border-b-2 px-1 py-4 text-sm border-indigo-500 text-indigo-600 hover:border-gray-300 hover:text-gray-700"
                    data-target="tab-1"
                    >公告</a
                  >
                  <a
                    href="#tab-2"
                    class="tab-link whitespace-nowrap border-b-2 border-transparent px-1 py-4 text-sm text-gray-500 hover:border-gray-300 hover:text-gray-700"
                    data-target="tab-2"
                    >筆記</a
                  >
                  <a
                    href="#tab-3"
                    class="tab-link whitespace-nowrap border-b-2 border-transparent px-1 py-4 text-sm text-gray-500 hover:border-gray-300 hover:text-gray-700"
                    data-target="tab-3"
                    >問答</a
                  >
                </nav>
              </div>

              <!-- Tab content -->
              <!-- 公告 -->
              <div id="tab-1" class="tab-content p-4 my-4">
                <h1
                  class="text-2xl font-bold text-[#212529] mb-4"
                >
                  課程公告
                </h1>
                <p id="no-posts" class="text-[#495057]">
                  講師尚未新增公告至此課程。公告是用於通知您有關課程的最新消息或新增項目。
                </p>
              </div>

              <!-- 筆記 -->
              <div
                id="tab-2"
                class="tab-content hidden py-4 p-4 my-4"
              >
                <h1
                  class="text-2xl font-bold text-[#212529] mb-4"
                >
                  課程筆記
                </h1>

                <!-- add note -->
                <div class="relative">
                  <div
                    class="bg-white outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600"
                  >
                    <input
                      type="text"
                      id="add-note-title"
                      class="block w-full px-4 pt-2.5 text-lg font-bold text-gray-800 placeholder:text-gray-400 focus:outline focus:outline-0"
                      placeholder="＃標題"
                    />

                    <textarea
                      id="add-note-content"
                      class="block w-full resize-none px-4 py-1.5 text-gray-800 placeholder:text-gray-400 focus:outline focus:outline-0"
                      placeholder="寫下筆記..."
                    ></textarea>

                    <!-- Spacer element to match the height of the toolbar -->
                    <div aria-hidden="true">
                      <div class="py-2">
                        <div class="h-9"></div>
                      </div>
                    </div>
                  </div>

                  <div class="absolute inset-x-px bottom-0">
                    <div
                      class="flex items-center justify-end space-x-3 px-2 py-2 sm:px-3"
                    >
                      <p
                        class="lesson-name text-xs text-gray-600"
                      >
                        　
                      </p>
                      <button
                        id="add-note-btn"
                        type="submit"
                        class="inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                      >
                        建立
                      </button>
                    </div>
                  </div>
                </div>

                <!-- note list -->
                <div class="note-list"></div>
              </div>

              <!-- 問答 -->
              <div
                id="tab-3"
                class="tab-content hidden py-4 p-4 my-4"
              >
                <h1
                  class="text-2xl font-bold text-[#212529] mb-4"
                >
                  課程問答
                </h1>

                <div
                  class="flex items-start space-x-4 mb-8"
                >
                  <div class="shrink-0">
                    <img
                      class="avatar inline-block size-10 rounded-full object-cover"
                      src="https://megapx-assets.dcard.tw/images/56c374f7-f782-4f82-9510-53ecc298f912/640.webp"
                      alt=""
                    />
                  </div>

                  <div class="min-w-0 flex-1">
                    <div
                      class="border-b border-gray-200 pb-px focus-within:border-b-2 focus-within:border-indigo-600 focus-within:pb-0"
                    >
                      <textarea
                        id="student-question"
                        class="block w-full auto-resize resize-none text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6"
                        placeholder="寫下問題..."
                      ></textarea>
                    </div>
                    <div class="flex justify-end pt-2">
                      <div class="shrink-0">
                        <button
                          id="add-question"
                          class="inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                        >
                          送出
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="question-list"></div>
              </div>
            </div>
            <div class="hidden lg:flex"></div>
          </div>
        </div>

        <!-- course list -->
        <div
          class="hidden lg:flex w-[400px] flex-col justify-between border-s border-gray-400 bg-white overflow-y-auto"
        >
          <div class="px-4 py-4">
            <span class="text-lg font-bold text-gray-900">
              課程內容
            </span>

            <ul class="lesson-list mt-6 space-y-1"></ul>
          </div>
        </div>
      </div>

      <!-- 開啟按鈕 -->
      <div
        id="openDrawer"
        class="fixed top-[10%] right-0 p-2 block lg:hidden bg-white border-y border-l border-gray-400 text-gray-700 cursor-pointer"
      >
        <i class="bi bi-caret-left-fill"></i>
      </div>

      <!-- Slide Over -->
      <div
        id="drawer"
        class="fixed inset-0 z-10 hidden"
        aria-labelledby="slide-over-title"
        role="dialog"
        aria-modal="true"
      >
        <!-- 背景遮罩 -->
        <div
          id="backdrop"
          class="fixed inset-0 bg-gray-500/75 transition-opacity opacity-0"
          aria-hidden="true"
        ></div>

        <div class="fixed inset-0 overflow-hidden">
          <div class="absolute inset-0 overflow-hidden">
            <div
              id="drawerPanel"
              class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 transform translate-x-full transition-transform duration-500"
            >
              <div
                class="pointer-events-auto w-screen max-w-md"
              >
                <div
                  class="flex h-full flex-col overflow-y-auto bg-white py-6 shadow-xl"
                >
                  <div class="px-4 sm:px-6">
                    <div
                      class="flex items-start justify-between"
                    >
                      <!-- panel title -->
                      <h2
                        class="text-lg font-bold text-gray-900"
                        id="slide-over-title"
                      >
                        課程內容
                      </h2>

                      <!-- close button -->
                      <div
                        class="ml-3 flex h-7 items-center"
                      >
                        <button
                          id="closeDrawer"
                          type="button"
                          class="relative rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
                        >
                          <span class="sr-only"
                            >Close panel</span
                          >
                          <svg
                            class="h-6 w-6"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            aria-hidden="true"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              d="M6 18 18 6M6 6l12 12"
                            />
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div
                    class="relative mt-6 flex-1 px-4 sm:px-6"
                  >
                    <ul
                      class="lesson-list mt-6 space-y-1"
                    ></ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="footer"></div>

    <script>
      $(document).ready(function () {
        fetch("../components/footer.html")
          .then((response) => response.text())
          .then((data) => {
            $("#footer").html(data);
          });
      });
    </script>
    <script src="../js/video-player.js"></script>
  </body>
</html>
